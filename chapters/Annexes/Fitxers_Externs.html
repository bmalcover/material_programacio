
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Fitxers externs &#8212; Programacio I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/Annexes/Fitxers_Externs';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Taula ASCII" href="Taula_ASCII.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Programacio I - Home"/>
    <img src="../../_static/logo.png" class="logo__image only-dark pst-js-only" alt="Programacio I - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Introducció
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Tema1.html">Tema 1</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema2/Tema2_Intro.html">Tema 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema2/Tema2.html">Dades</a></li>




<li class="toctree-l2"><a class="reference internal" href="../Tema2/Tema2_Estructures_de_control.html">Composició d’instruccions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema2/Tema2_Exercicis.html">Exercicis Tema 2</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema3/Tema3_.html">Tema 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema3/Tema3_Exercicis.html">Exercicis del Tema 3</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema4/Tema4_.html">Tema 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Esquemes.html">Aplicació dels esquemes bàsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Subprogrames.html">Subprogrames i paràmetres</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Aplicacio_esquemes_subprogrames.html">Esquemes amb subprogrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Exercicis_subprogrames.html">Exercicis del Tema 4</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema5/Tema5.html">Tema 5</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema5/Tema5_Llistes.html">Llistes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema5/Tema5_Classes.html">Classes i Objectes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema5/Tema5_Estructures.html">Altres maneres d’estructurar les dades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema5/Tema5_Exercicis.html">Exercicis Tema 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema5/Tema5_Exercicis_altres_estructures.html">Exercicis Tema 5/2</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema6/Tema6_Fitxers.html">Tema 6</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema6/Tema6_Exercicis.html">Exercicis Tema 6</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema7/Tema7_Algorismes.html">Tema 7</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema7/Tema7_Exercicis.html">Exercicis Tema 7</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Annexes.html">Annexos</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Entorn_Desenvolupament.html">Entorn de desenvolupament</a></li>
<li class="toctree-l2"><a class="reference internal" href="Taula_ASCII.html">Taula ASCII</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Fitxers externs</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/chapters/Annexes/Fitxers_Externs.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Fitxers externs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#la-clausula-import">La clausula import</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-nom"><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;nom&gt;</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-nom-import-codi"><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;nom&gt;</span> <span class="pre">import</span> <span class="pre">&lt;codi&gt;</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-nom-as-nom-alternatiu"><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;nom&gt;</span> <span class="pre">as</span> <span class="pre">&lt;nom_alternatiu&gt;</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#execucio-d-un-modul-com-un-script">Execució d’un modul com un <em>script</em></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#taller">Taller</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="fitxers-externs">
<h1>Fitxers externs<a class="headerlink" href="#fitxers-externs" title="Link to this heading">#</a></h1>
<p>Com hem vist en el tema 4, la programació modular es refereix al procés de dividir un programa gran en subtasques o
mòduls separats, més petits i més manejables. Els mòduls individuals es poden usar com blocs de construcció per crear
una aplicació més gran. La tècnica de modularització que coneixem fins ara és la creació de subprogrames.</p>
<p>En aquest taller veurem una segona manera de modularitzar els nostres programes mitjançant l’importació de codi que
es troba en fitxers diferents del qual tenim el nostre programa principal.</p>
<p>El codi pot provenir d’altres programes que nosaltres hem fet amb anterioritat o per llibreries de codi ja incloses
en la distribució de <code class="docutils literal notranslate"><span class="pre">Python</span></code> ( com per exemple la llibreria <em>Math</em> o <em>sys</em>) o d’altres que podem descarregar i
instal·lar.
Per usar aquestes dues fonts de codi usarem una paraula reservada que ja coneixem <code class="docutils literal notranslate"><span class="pre">import</span></code> però que potser no entenem.</p>
<p>Nosaltres ens centrarem en la primera de les fonts de codi, aquelles que ja hem programat amb anterioritat i que es
troben en un altre fitxer.</p>
<p>Suposem que tenim el fitxer <em><a class="reference external" href="http://extern.py">extern.py</a></em> que conté el següent codi:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">estring</span> <span class="o">=</span> <span class="s2">&quot;Una variable de mostra&quot;</span>

<span class="k">def</span> <span class="nf">es_primer</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
<p>Podem usar el codi definit en el fitxer anomenat <em><a class="reference external" href="http://extern.py">extern.py</a></em> en el nostre fitxer <em><a class="reference external" href="http://main.py">main.py</a></em> de la següent manera:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">extern</span>

<span class="nb">print</span><span class="p">(</span><span class="n">extern</span><span class="o">.</span><span class="n">estring</span><span class="p">)</span>

<span class="n">extern</span><span class="o">.</span><span class="n">es_primer</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">extern</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="n">extern</span><span class="o">.</span><span class="n">estring</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">extern</span><span class="o">.</span><span class="n">es_primer</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;extern&#39;
</pre></div>
</div>
</div>
</div>
<p>En importar un fitxer tal com hem fet abans, ens hem d’assegurar que aquest es trobi en la <em>mateixa carpeta</em> que el
nostre programa principal. Existeixen altres opcions que ens permeten tenir el codi en altres localitzacions del
nostre ordinador però això queda fora de l’àmbit d’aquesta assignatura. Per a més informació podeu llegir el següent
<a class="reference external" href="https://realpython.com/python-modules-packages/#the-module-search-path">enllaç</a>.</p>
<section id="la-clausula-import">
<h2>La clausula import<a class="headerlink" href="#la-clausula-import" title="Link to this heading">#</a></h2>
<p>La clausula <code class="docutils literal notranslate"><span class="pre">import</span></code> és flexible i ens permet usar-la de diferents maneres en funció de les necessitats que tinguem en
cada situació.</p>
<section id="import-nom">
<h3><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;nom&gt;</span></code><a class="headerlink" href="#import-nom" title="Link to this heading">#</a></h3>
<p>És la manera més senzilla d’importar codi extern, la que acabam d’explicar en l’exemple anterior. El que hem de tenir
en compte és que quan usam qualsevol peça de codi definida en el fitxer que importam, aquesta roman privada en aquell
mòdul de la següent manera:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">extern</span>

<span class="nb">print</span><span class="p">(</span><span class="n">estring</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="mi">09551</span><span class="n">f0536b0</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">extern</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> 
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="n">estring</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 

<span class="ne">NameError</span>: name &#39;estring&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>obtenim un error, ja que al nostre programa principal no existeix cap variable anomenada <code class="docutils literal notranslate"><span class="pre">estring</span></code>. El codi del
mòdul només és accessible quan té el <nom> com prefix mitjançant un punt, tal com es mostra a l’exemple que trobareu
a continuació. A més fixau-vos que això en possibilita tenir una variable al programa principal anomenada <code class="docutils literal notranslate"><span class="pre">estring</span></code>
sense sofrir interferències amb la que hem definit en el fitxer <code class="docutils literal notranslate"><span class="pre">extern</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">extern</span>

<span class="n">estring</span> <span class="o">=</span> <span class="s2">&quot;La variable del programa principal&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">extern</span><span class="o">.</span><span class="n">estring</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">estring</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Una variable de mostra
la variable del programa principal
</pre></div>
</div>
</div>
</div>
</section>
<section id="from-nom-import-codi">
<h3><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;nom&gt;</span> <span class="pre">import</span> <span class="pre">&lt;codi&gt;</span></code><a class="headerlink" href="#from-nom-import-codi" title="Link to this heading">#</a></h3>
<p>Una alternativa a l’importació que hem vist fins ara és aquella que permet importar elements individuals del mòdul
directament al nostre programa. D’aquesta manera podem importar directament un procediment que es troba al fitxer
<code class="docutils literal notranslate"><span class="pre">extern</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">extern</span> <span class="kn">import</span> <span class="n">es_primer</span>

<span class="n">es_primer</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Degut que estam important el codi al nostre programa principal sense el prefix aquí sí que és possible sobreescriure el
codi importat, per exemple:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">extern</span> <span class="kn">import</span> <span class="n">estring</span>

<span class="nb">print</span><span class="p">(</span><span class="n">estring</span><span class="p">)</span>
<span class="n">estring</span> <span class="o">=</span> <span class="s2">&quot;Ara el sobreescric&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">estring</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Una variable de mostra
Ara el sobreescric
</pre></div>
</div>
</div>
</div>
<p>Fins i tot és possible importar de manera tot el contingut d’un mòdul (fitxer extern) d’un sol cop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">extern</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<p>Encara que podeu trobar codi que usa aquesta darrera tècnica, no es recomana gens fer-ho, ja que és una font de
problemes. <a class="reference external" href="https://www.geeksforgeeks.org/why-import-star-in-python-is-a-bad-idea/?ref=rp">Més informació</a>.</p>
</section>
<section id="import-nom-as-nom-alternatiu">
<h3><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;nom&gt;</span> <span class="pre">as</span> <span class="pre">&lt;nom_alternatiu&gt;</span></code><a class="headerlink" href="#import-nom-as-nom-alternatiu" title="Link to this heading">#</a></h3>
<p>Aquesta darrera opció no ens serà molt útil per aquest curs però s’utilitza molt quant volem importar llibreries de
codi externes que tenen noms molt llargs, d’aquesta manera aconseguim un nom alternatiu o pseudònim.</p>
<p>S’usa de la següent manera:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">extern</span> <span class="k">as</span> <span class="nn">mod_ext</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mod_ext</span><span class="o">.</span><span class="n">estring</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Una variable de mostra
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="execucio-d-un-modul-com-un-script">
<h2>Execució d’un modul com un <em>script</em><a class="headerlink" href="#execucio-d-un-modul-com-un-script" title="Link to this heading">#</a></h2>
<p>El fitxer <code class="docutils literal notranslate"><span class="pre">extern</span></code> que hem usat com a font de codi pel nostre programa principal bàsicament és un fitxer <code class="docutils literal notranslate"><span class="pre">Python</span></code> que
pot ser executat com qualsevol altra programa. El fitxer que hem usat fins ara no té gaire interès, ja que només
defineix una variable de tipus <em>string</em> i una funció. Ara en feim un altre que a més de definir una variable i un
subprograma dugui a terme una tasca concreta anomenat <code class="docutils literal notranslate"><span class="pre">feina_externa</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">es_vocal</span><span class="p">(</span><span class="n">lletra</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;e&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;i&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;o&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;u&#39;</span>

<span class="n">ll</span> <span class="o">=</span> <span class="s1">&#39;e&#39;</span>

<span class="c1"># Anem a mirar si ll és una vocal</span>

<span class="n">esvocal</span> <span class="o">=</span> <span class="n">es_vocal</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>

<span class="k">if</span> <span class="n">esvocal</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La lletra &quot;</span> <span class="o">+</span> <span class="n">ll</span> <span class="o">+</span> <span class="s2">&quot; és una vocal&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La lletra &quot;</span> <span class="o">+</span> <span class="n">ll</span> <span class="o">+</span> <span class="s2">&quot; no és una vocal&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>La lletra e es una vocal
</pre></div>
</div>
</div>
</div>
<p>Si executam aquest fragment de codi el que obtindrem és un missatge per pantalla que indica que <strong>La lletra e és una
vocal</strong>. Malauradament si importam aquest mòdul veurem que el codi s’executa automàticament:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">feina_externa</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Probablement aquest comportament no sigui el que esperem ni el que necessitem. No és habitual que un mòdul generi
un missatge a la consola quan s’importa. En <code class="docutils literal notranslate"><span class="pre">Python</span></code> tenim la capacitat de distingir quan es carrega el fitxer com a
mòdul i quan s’executa com a programa independent.</p>
<p>Quan executam un fitxer com un programa, <code class="docutils literal notranslate"><span class="pre">Python</span></code> li assigna el nom <em>main</em>. El següent codi permet
distingir les dues casuístiques:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">):</span>
</pre></div>
</div>
<p>Afegint aquesta línia el nostre fitxer <code class="docutils literal notranslate"><span class="pre">feina_externa</span></code> queda de la següent manera:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">es_vocal</span><span class="p">(</span><span class="n">lletra</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;e&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;i&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;o&#39;</span> <span class="ow">or</span> <span class="n">lletra</span> <span class="o">==</span> <span class="s1">&#39;u&#39;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="s1">&#39;e&#39;</span>

    <span class="c1"># Anem a mirar si ll és una vocal</span>
    <span class="n">esvocal</span> <span class="o">=</span> <span class="n">es_vocal</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">esvocal</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La lletra &quot;</span> <span class="o">+</span> <span class="n">ll</span> <span class="o">+</span> <span class="s2">&quot; es una vocal&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La lletra &quot;</span> <span class="o">+</span> <span class="n">ll</span> <span class="o">+</span> <span class="s2">&quot; no es una vocal&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Normalment ens interessa usar aquesta característica per poder avaluar el codi que tenim en un mòdul sense necessitat
d’importar-lo en un altre fitxer, d’això se’n diuen <strong>tests unitaris</strong> i és una bona pràctica de programació.</p>
</section>
<section id="taller">
<h2>Taller<a class="headerlink" href="#taller" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Usant la funció és_primer, escriure la funció <code class="docutils literal notranslate"><span class="pre">i_esim_primer(i)</span></code> que lliuri l’i-èsim nombre primer.</p></li>
<li><p>Usant la funció anterior, escriure la funció <code class="docutils literal notranslate"><span class="pre">primers_primers(m)</span></code> que mostri per pantalla els primers m nombres primers.</p></li>
<li><p>Crear un mòdul (fitxer) anomenat <code class="docutils literal notranslate"><span class="pre">primers.py</span></code> que contingui totes les funcions anteriors. En executar <code class="docutils literal notranslate"><span class="pre">primers.py</span></code> com un programa per si sol, ha de mostrar, com a prova, els vint primers nombres primers. En importar-lo com un mòdul, això no ha de passar.</p></li>
<li><p>Un primer de Mersenne és un nombre primer de la forma <span class="math notranslate nohighlight">\(np=(2^p)−1\)</span>.
Una propietat coneguda dels primers de Mersenne és que p ha de ser també un nombre primer.
Escriviu un programa anomenat <code class="docutils literal notranslate"><span class="pre">mersenne.py</span></code> que pregunti a l’usuari un número <span class="math notranslate nohighlight">\(n\)</span>, i mostri com a sortida els <span class="math notranslate nohighlight">\(n\)</span> primers nombre primers de Mersenne.
El vostre programa ha d’importar el mòdul primers i utilitzar les funcions que aquest conté.</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters\Annexes"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Taula_ASCII.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Taula ASCII</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#la-clausula-import">La clausula import</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-nom"><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;nom&gt;</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-nom-import-codi"><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;nom&gt;</span> <span class="pre">import</span> <span class="pre">&lt;codi&gt;</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-nom-as-nom-alternatiu"><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;nom&gt;</span> <span class="pre">as</span> <span class="pre">&lt;nom_alternatiu&gt;</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#execucio-d-un-modul-com-un-script">Execució d’un modul com un <em>script</em></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#taller">Taller</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gabriel Moyà Alcover
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>