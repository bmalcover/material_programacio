
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Classes i Objectes &#8212; Programacio I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/Tema5/Tema5_Classes';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Altres maneres d’estructurar les dades" href="Tema5_Estructures.html" />
    <link rel="prev" title="Strings" href="Tema5_Strings.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Programacio I - Home"/>
    <img src="../../_static/logo.png" class="logo__image only-dark pst-js-only" alt="Programacio I - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Introducció
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Tema1.html">Tema 1</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema2/Tema2_Intro.html">Tema 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema2/Tema2.html">Dades</a></li>




<li class="toctree-l2"><a class="reference internal" href="../Tema2/Tema2_Estructures_de_control.html">Composició d’instruccions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema2/Tema2_Exercicis.html">Exercicis Tema 2</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema3/Tema3_.html">Tema 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema3/Tema3_Exercicis.html">Exercicis del Tema 3</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema4/Tema4_.html">Tema 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Esquemes.html">Aplicació dels esquemes bàsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Subprogrames.html">Subprogrames i paràmetres</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Aplicacio_esquemes_subprogrames.html">Esquemes amb subprogrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tema4/Tema4_Exercicis_subprogrames.html">Exercicis del Tema 4</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Tema5.html">Tema 5</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Tema5_Llistes.html">Llistes</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tema5_Strings.html">Strings</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Classes i Objectes</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tema5_Estructures.html">Altres maneres d’estructurar les dades</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tema5_Exercicis.html">Exercicis Tema 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tema5_POO.html">Exercicis Consolidació POO</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tema5_Exercicis_altres_estructures.html">Exercicis Tema 5/2</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema6/Tema6_Fitxers.html">Tema 6</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema6/Tema6_Exercicis.html">Exercicis Tema 6</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Tema7/Tema7_Algorismes.html">Tema 7</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tema7/Tema7_Exercicis.html">Exercicis Tema 7</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Annexes/Annexes.html">Annexos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Annexes/Entorn_Desenvolupament.html">Entorn de desenvolupament</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Annexes/Taula_ASCII.html">Taula ASCII</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Annexes/Fitxers_Externs.html">Fitxers externs</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/chapters/Tema5/Tema5_Classes.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Classes i Objectes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectes">Objectes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classe-dels-nombres-complexos">Classe dels nombres complexos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encapsulacio">Encapsulació</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atributs-privats">Atributs privats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodes-privats">Mètodes privats</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#atributs-i-metodes-de-classe">Atributs i mètodes de classe</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sobrecarrega-d-operadors">Sobrecàrrega d’operadors</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="classes-i-objectes">
<h1>Classes i Objectes<a class="headerlink" href="#classes-i-objectes" title="Link to this heading">#</a></h1>
<p>El concepte de tipus de dades estructurats s’amplia amb la incorporació dels conceptes propis de l’orientació a objectes,
les <strong>classes</strong> i les seves instàncies, els <strong>objectes</strong>.</p>
<p>Per arribar al concepte de classe primer cal parlar del concepte de <strong>Tipus Abstracte de Dades</strong> (TAD). Un TAD es
defineix com un model matemàtic compost per una col·lecció d’operacions definides sobre un conjunt de dades.</p>
<p>Un Tipus Abstracte de Dades es caracteritza per:</p>
<ul class="simple">
<li><p>Usa un o més tipus de dades, elementals o no.</p></li>
<li><p>Defineix un conjunt d’operacions sobre aquestes dades. El que es coneix com a interfície.</p></li>
<li><p>Les operacions de la interfície són les úniques que estan permeses per les dades que hem definit.</p></li>
<li><p>No existeix cap altre mecanisme d’accés a l’estructura de dades definida.</p></li>
</ul>
<p>El fet de definir una interfície com a mecanisme d’actuació sobre els valors del Tipus Abstracte de Dades permet protegir
els valors enfront d’una utilització incorrecta.  Aquesta tècnica es coneix amb el nom d’<strong>encapsulació</strong>.</p>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">#</a></h2>
<p>Una Classe es pot considerar com la implementació d’un Tipus Abstracte de Dades en un llenguatge de programació.</p>
<ul class="simple">
<li><p>Quan es parla dels <strong>valors</strong> que es representen amb una classe es parla dels <strong>atributs</strong>.</p></li>
<li><p>Quan es parla de les <strong>operacions</strong> es parla dels <strong>mètodes</strong>.</p></li>
</ul>
<p>Existeix un tipus especial de mètodes, els mètodes que serveixen per construir els objectes, són els anomenats
<strong>constructors</strong>. Un constructor té la característica especial que el valor resultat de la seva invocació (crida) és un
nou objecte instància de la classe. Una altra característica dels constructors és que no són invocats directament
sinó que són invocats quan es creen noves instàncies de la classe.</p>
<p>Per il·lustrar els conceptes plantejats, començarem amb la definició de la nostra primera classe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Persona</span><span class="p">:</span>
<span class="w">  </span>
<span class="w">  </span><span class="sd">&#39;&#39;&#39; </span>
<span class="sd">      El mètode __init__ és un mètode especial de Python que serveix per definir com</span>
<span class="sd">      es construeix un objecte. Només el podem crear dins una classe.</span>
<span class="sd">      Hi definirem els seus atributs.</span>
<span class="sd">  &#39;&#39;&#39;</span>
  
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ed</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">al</span><span class="p">):</span> <span class="c1"># notem l&#39;ús del paràmetre self</span>
    
        <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">=</span> <span class="n">ed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pes</span> <span class="o">=</span> <span class="n">pe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alt</span> <span class="o">=</span> <span class="n">al</span> <span class="c1"># la alcada es en cm</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="objectes">
<h2>Objectes<a class="headerlink" href="#objectes" title="Link to this heading">#</a></h2>
<p>Per poder utilitzar les classes és necessari realitzar una instància, de manera que es construeix un <strong>objecte</strong>.
Les variables s’utilitzen <strong>per fer referència</strong> als objectes creats.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creació d&#39;un objecte persona amb referencia p1</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>

<span class="c1"># Creació d&#39;un objecte persona amb referencia p2</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span> <span class="mi">152</span><span class="p">)</span>

<span class="c1"># p1 i p2 no tenen valor, son referencies</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>

<span class="n">p1</span><span class="o">.</span><span class="n">alt</span> <span class="o">=</span> <span class="mi">199</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">alt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;__main__.Persona object at 0x0000022660516E10&gt;
&lt;__main__.Persona object at 0x0000022660517D90&gt;
199
</pre></div>
</div>
</div>
</div>
<p>Com hem notat en les darreres línies del codi anterior, podem accedir als atributs d’una classe usant el punt després
del nom de l’objecte.</p>
<p>Seguint amb l’exemple anterior veurem com mostrar la informació dels atributs d’un objecte.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edat &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">edat</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - Pes: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">pes</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edat &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">edat</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - Pes: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">pes</span><span class="p">))</span>

<span class="n">professor</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">55</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span> <span class="mi">140</span><span class="p">)</span> <span class="c1"># Cream un nou objecte del tipus persona anomenat professor</span>

<span class="c1"># Mostram l&#39;informacio dels seus atributs</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edat &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">professor</span><span class="o">.</span><span class="n">edat</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - Pes: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">professor</span><span class="o">.</span><span class="n">pes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Edat 32 - Pes: 72
Edat 41 - Pes: 134
Edat 55 - Pes: 32
</pre></div>
</div>
</div>
</div>
<p>Hem dit que una de les coses que caracteritza un TAD és la capacitat de definir interfícies, és a dir operacions
sobre les nostres dades.</p>
<p>En definirem algunes per a la classe que estem construint i a continuació les implementarem</p>
<ul class="simple">
<li><p>Calcular l’IMC (índex de massa corporal).</p></li>
<li><p>Saber si una persona és major d’edat.</p></li>
<li><p>Donades dues persones, saber qui és més vell.</p></li>
<li><p>Mostrar per pantalla la informació d’un objecte.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Persona</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ed</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">al</span><span class="p">):</span> 
        <span class="c1"># Atributs de la meva classe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">=</span> <span class="n">ed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pes</span> <span class="o">=</span> <span class="n">pe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alt</span> <span class="o">=</span> <span class="n">al</span> <span class="c1"># la alcada es en cm</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Mètodes de la meva classe</span>
<span class="sd">        Els mètodes que usen la informació de l&#39;objecte tenen el seu primer paràmetre</span>
<span class="sd">        anomenat self</span>
<span class="sd">        &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">IMC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="n">alsada_m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alt</span> <span class="o">/</span> <span class="mi">100</span>
        <span class="n">index_massa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pes</span> <span class="o">/</span> <span class="p">(</span><span class="n">alsada_m</span> <span class="o">*</span> <span class="n">alsada_m</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">index_massa</span>

    <span class="k">def</span> <span class="nf">es_major_edat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">def</span> <span class="nf">es_major</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    
        <span class="n">edat_persona</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">edat</span>
        <span class="n">edat_a_comparar</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">edat</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">edat</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">edat</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">edat_persona</span> <span class="o">&gt;</span> <span class="n">edat_a_comparar</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">def</span> <span class="nf">son_iguals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">==</span> <span class="n">o</span><span class="o">.</span><span class="n">edat</span>
    
    <span class="k">def</span> <span class="nf">imprimir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edat &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">edat</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - Pes: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pes</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - Alsada: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alt</span><span class="p">))</span> 
</pre></div>
</div>
</div>
</div>
<p>I ara veurem com es poden usar:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Programa principal    </span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">175</span><span class="p">)</span>

<span class="n">estudiant</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">210</span><span class="p">)</span>

<span class="n">estudiant</span><span class="o">.</span><span class="n">imprimir</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">imprimir</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Edat 22 - Pes: 90 - Alsada: 210
Edat 19 - Pes: 75 - Alsada: 175
</pre></div>
</div>
</div>
</div>
<p>A més del mètode <code class="docutils literal notranslate"><span class="pre">__init__</span></code>, <code class="docutils literal notranslate"><span class="pre">Python</span></code> n’ofereix d’altres que ens permetran simplificar la interacció amb els objectes.
Per acabar aquest primer contacte amb les classes veurem el mètode <code class="docutils literal notranslate"><span class="pre">__str__</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Persona</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ed</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">al</span><span class="p">):</span> 
        <span class="c1"># Atributs de la meva classe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">=</span> <span class="n">ed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pes</span> <span class="o">=</span> <span class="n">pe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alt</span> <span class="o">=</span> <span class="n">al</span> <span class="c1"># la alcada es en cm</span>
<span class="w">        </span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Mètodes de la meva classe</span>
<span class="sd">    Els mètodes que usen la informació de l&#39;objecte tenen el seu primer paràmetre</span>
<span class="sd">    anomenat self</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="k">def</span> <span class="nf">IMC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">index_massa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pes</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alt</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">alt</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">index_massa</span>
    
    <span class="k">def</span> <span class="nf">es_major_edat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">:</span>   
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">def</span> <span class="nf">es_major</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edat</span> <span class="o">&gt;</span> <span class="n">o</span><span class="o">.</span><span class="n">edat</span>
    
    <span class="c1"># Aquest mètode sempre ha de retornar un string</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Pes &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pes</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Alsada &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alt</span><span class="p">)</span> 
        <span class="k">return</span> <span class="n">s</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">191</span><span class="p">)</span>

<span class="c1"># Això ens permet mostrar la informació d&#39;un objecte de la següent manera:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pes 80 Alsada 191
</pre></div>
</div>
</div>
</div>
</section>
<section id="classe-dels-nombres-complexos">
<h2>Classe dels nombres complexos<a class="headerlink" href="#classe-dels-nombres-complexos" title="Link to this heading">#</a></h2>
<p>Fins on sabem, els llenguatges de programació no tenen cap tipus elemental que ens permeti treballar amb nombres
complexos.</p>
<p>Aprofitarem per crear el nostre propi tipus de dades i definir les operacions de:</p>
<ul class="simple">
<li><p>suma</p></li>
<li><p>resta</p></li>
<li><p>multiplicació</p></li>
<li><p>mostrar per pantalla (imprimir)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span> <span class="c1"># Constructor</span>
        <span class="c1"># Atributs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">=</span> <span class="n">i</span>
        
    <span class="c1"># Metodes</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Fixau-vos que aquest mètode retorna un objecte del tipus Complex.</span>
<span class="sd">    Es a dir, dins el mètode suma, es crea un objecte de la classe Complex</span>
<span class="sd">    &#39;&#39;&#39;</span> 
    <span class="k">def</span> <span class="nf">suma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span> 
        
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">real</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">imaginaria</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">c</span>
      
    <span class="k">def</span> <span class="nf">resta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="n">real</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="o">-</span><span class="n">o</span><span class="o">.</span><span class="n">real</span>
        <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span><span class="o">-</span><span class="n">o</span><span class="o">.</span><span class="n">imaginaria</span>
        
        <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="n">real</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
      
    <span class="k">def</span> <span class="nf">multiplica</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        
        <span class="n">real</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">*</span> <span class="n">o</span><span class="o">.</span><span class="n">real</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">*</span> <span class="n">o</span><span class="o">.</span><span class="n">imaginaria</span>
        <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">*</span> <span class="n">o</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">*</span> <span class="n">o</span><span class="o">.</span><span class="n">real</span>
        
        <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="n">real</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
      
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;i)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;i)&#39;</span>

<span class="c1"># Programa principal</span>
<span class="c1"># Programa que defineix dos nombres complexos, els suma i retorna el seu resultat</span>
          
<span class="n">c1</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">c1</span><span class="o">.</span><span class="n">suma</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>  <span class="c1"># Aquesta operació genera un nou nombre</span>

<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(6+4i)
</pre></div>
</div>
</div>
</div>
<p><strong>Problema</strong></p>
<p>Modifiqueu el programa principal anterior, per un que faci el següent:
Heu de demanar a l’usuari quants nombres complexos vol operar, el vostre programa ha de llegir del teclat aquests
nombres i realitzar la següent seqüència d’operacions.</p>
<ul class="simple">
<li><p>Si la part real del nombre que heu llegit per teclat mòdul 3 dóna 0 l’heu de sumar al nombre real que heu obtingut
de l’operació anterior.</p></li>
<li><p>Si dóna 1 l’heu de restar al nombre real que heu obtingut de l’operació anterior.</p></li>
<li><p>Si dóna 2 l’heu de multiplicar al nombre real que heu obtingut de l’operació anterior.</p></li>
</ul>
<p>Podeu considerar que en la primera iteració el nombre anterior és el nombre complex: 1+1i. A cada iteració heu de
mostrar el nombre obtingut per pantalla.</p>
<p><em>Trobareu la solució d’aquest problema a la carpeta d’exemples de classe a uibdigital, fitxers: complexe i
principal_complexe</em></p>
</section>
<section id="encapsulacio">
<h2>Encapsulació<a class="headerlink" href="#encapsulacio" title="Link to this heading">#</a></h2>
<p>Com hem comentat al principi del capítol és necessari que en un <strong>TAD</strong> es doni el següent:</p>
<ul class="simple">
<li><p>Les operacions de la interfície són les úniques que estan permeses pel tipus exportat.</p></li>
<li><p>No existeix cap altre mecanisme d’accés a l’estructura de dades definida.</p></li>
</ul>
<p>En les dues classes que hem definit fins ara Persona i Complex, aquestes dues restriccions no es compleixen. Veurem
com podem modificar l’accés als atributs d’una classe.</p>
<section id="atributs-privats">
<h3>Atributs privats<a class="headerlink" href="#atributs-privats" title="Link to this heading">#</a></h3>
<p>Tot i que està permès pel llenguatge, <strong>no és recomanable declarar els atributs públics</strong>, ja que això permetria un
possible ús incorrecte d’aquests.</p>
<p>Seguirem treballant amb la classe dels nombres complexos. Deixem aquí un recordatori:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span> <span class="c1"># Constructor</span>
        <span class="c1"># Atributs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">=</span> <span class="n">i</span>
        
        <span class="c1"># Metode</span>
    <span class="k">def</span> <span class="nf">suma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>    
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">real</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">imaginaria</span>
        <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;i)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;i)&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Veiem com tenir atributs d’accés públic ens pot dur alguns problemes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="n">c1</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="s2">&quot;matematics&quot;</span> <span class="c1"># canviam el tipus d&#39;una variable de enter a string</span>

<span class="n">c3</span> <span class="o">=</span> <span class="n">c1</span><span class="o">.</span><span class="n">suma</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="c1"># aixo dona error ja que no pot sumar un string amb un enter</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="n">line</span> <span class="mi">6</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">c1</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="s2">&quot;matematics&quot;</span> <span class="c1"># canviam el tipus d&#39;una variable de enter a string</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="n">c3</span> <span class="o">=</span> <span class="n">c1</span><span class="o">.</span><span class="n">suma</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>

<span class="nn">Cell In[8], line 10,</span> in <span class="ni">Complex.suma</span><span class="nt">(self, o)</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="k">def</span> <span class="nf">suma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>    
<span class="ne">---&gt; </span><span class="mi">10</span>     <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">real</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginaria</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">imaginaria</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>     <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

<span class="ne">TypeError</span>: can only concatenate str (not &quot;int&quot;) to str
</pre></div>
</div>
</div>
</div>
<p>La pregunta que sorgeix és <strong>Com féim un atribut privat?</strong></p>
<p>A <code class="docutils literal notranslate"><span class="pre">Python</span></code>, per definir que un atribut és privat ho féim posant <code class="docutils literal notranslate"><span class="pre">__</span></code> (doble guió) davant del seu nom.</p>
<p>Que un atribut sigui privat implica que no podem consultar ni modificar el seu valor fora de l’àmbit de la classe on
aquest ha estat definit.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span> <span class="c1"># Constructor</span>
        <span class="c1"># Atributs, ara privats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__real</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span> <span class="o">=</span> <span class="n">i</span>
        
    <span class="k">def</span> <span class="nf">suma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>    
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__real</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">__real</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span> <span class="o">+</span> <span class="n">o</span><span class="o">.</span><span class="n">__imaginaria</span>
        <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    
    <span class="c1"># Aquests dos mètodes ens permeten modificar els atributs privats (setters)</span>
    <span class="k">def</span> <span class="nf">set_real</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">real</span><span class="p">):</span>
    
      <span class="bp">self</span><span class="o">.</span><span class="n">__real</span> <span class="o">=</span> <span class="n">real</span>
        
    <span class="k">def</span> <span class="nf">set_imaginari</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">imaginaria</span><span class="p">):</span>
    
        <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span> <span class="o">=</span> <span class="n">imaginaria</span>
    
    
   <span class="c1"># També podem fer mètodes que ens retornen el seu valor (getters)</span>

    <span class="k">def</span> <span class="nf">get_imaginari</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span>
    
    <span class="k">def</span> <span class="nf">get_real</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__real</span>

    
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__real</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;i)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__real</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;i)&#39;</span>
      
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exemple d&#39;us dels mètodes per modificar explicitament els atributs i els seus beneficis.</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="n">c2</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">c2</span><span class="o">.</span><span class="n">set_real</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span>


<span class="n">c1</span><span class="o">.</span><span class="n">__real</span> <span class="o">=</span> <span class="s2">&quot;patata&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Informacio de l&#39;objecte c1: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Informacio de l&#39;objecte c2: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Informacio de l&#39;objecte c1: 
(2+3i)
Informacio de l&#39;objecte c2: 
(33+4i)
</pre></div>
</div>
</div>
</div>
<p>Si volem tenir la capacitat per modificar els valors dels atributs d’una classe, podem construir mètodes que els
modifiquin.</p>
</section>
<section id="metodes-privats">
<h3>Mètodes privats<a class="headerlink" href="#metodes-privats" title="Link to this heading">#</a></h3>
<p>A més d’atributs privats també podem tenir mètodes privats.</p>
<p>La diferència entre els mètodes de la interfície i la resta de mètodes que puguin formar la classe, mètodes necessaris
per al correcte comportament d’aquesta, és que <strong>els mètodes de la interfície es declaren públics</strong>, mentre que <strong>la
resta es declaren privats</strong>, de manera que no s’habilita la possibilitat d’accedir-hi des de fora de la
classe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span> <span class="c1"># Constructor</span>
        <span class="c1"># Atributs, ara privats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__real</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span> <span class="o">=</span> <span class="n">i</span>

    <span class="c1"># Aquest es un metode privat, nomes es visible dins la classe</span>
    <span class="k">def</span> <span class="nf">__igual_a_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__real</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__imaginaria</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="c1"># Aquests dos son metodes publics visible tant dins com fora de la classe</span>
    <span class="k">def</span> <span class="nf">es_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="k">return</span>  <span class="bp">self</span><span class="o">.</span><span class="n">__igual_a_zero</span><span class="p">()</span>



<span class="c1"># Programa principal</span>
<span class="n">c1</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>


<span class="k">if</span> <span class="ow">not</span> <span class="n">c1</span><span class="o">.</span><span class="n">es_zero</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Es diferent de zero&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="atributs-i-metodes-de-classe">
<h2>Atributs i mètodes de classe<a class="headerlink" href="#atributs-i-metodes-de-classe" title="Link to this heading">#</a></h2>
<p><strong>Mètodes de classe</strong></p>
<p>Alguns cops necessitem definir mètodes (funcions o procediments) dins la nostra classe que no estan directament
relacionats amb els atributs d’un objecte, sinó que ens serveixen per complementar la funcionalitat de la classe.
Anomenem aquests mètodes <strong>mètodes de classe o també estàtics</strong> i s’identifiquen amb el decorador <code class="docutils literal notranslate"><span class="pre">&#64;staticmethod</span></code>
abans de la definició del mateix mètode. Com són mètodes que no operen amb els objectes de la classe no reben el
paràmetre <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">metodeestatic</span><span class="p">(</span><span class="n">parametres</span> <span class="n">opcionals</span><span class="p">):</span>
    
    <span class="n">linies</span> <span class="n">de</span> <span class="n">codi</span>
    <span class="n">necessaries</span> 
    <span class="k">return</span> <span class="n">valor</span> <span class="c1"># si el que implementam es una funcio</span>

</pre></div>
</div>
<p>Una de les seves màximes utilitats és la d’implementar constructors alternatius.</p>
<p><strong>Atributs de classe</strong></p>
<p>Fins ara hem vist que els valors dels atributs d’un objecte són independents dels atributs d’altres objectes de la
mateixa classe i que podem modificar-los lliurement sense estar preocupats d’afectar a altres objectes.</p>
<p>Existeixen un tipus d’atributs, coneguts com a <strong>atributs de classe</strong> que actuen d’una manera diferent del que coneixem
fins ara, no es troben associats a un objecte sinó a la mateixa classe.</p>
<p>Una altra de les utilitats dels mètodes estàtics és operar amb els atributs associats a la classe, així, si volem usar
aquests atributs no depenem d’haver prèviament creat un objecte. L’ús d’atributs de classe no és molt comú, però en
alguna ocasió pot ser de gran utilitat.</p>
<p>Tornem a l’exemple de la classe persona per veure com funciona:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Persona</span><span class="p">:</span>
    
    <span class="c1"># Atribut de classe, sempre es creen aqui abans del constructor</span>
    <span class="c1"># com els atributs d&#39;un objecte poden ser publics o privats</span>
    <span class="n">__nombre_de_persones</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ed</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">al</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">__edat</span> <span class="o">=</span> <span class="n">ed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__pes</span> <span class="o">=</span> <span class="n">pe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__alt</span> <span class="o">=</span> <span class="n">al</span>
        
        <span class="c1">#Cada cop que cream un nou objecte del tipus Persona sumam un al contador</span>
        <span class="n">Persona</span><span class="o">.</span><span class="n">__nombre_de_persones</span> <span class="o">+=</span> <span class="mi">1</span>
        
    
    
    <span class="c1"># Aquest mètode ens retorna el valor d&#39;una variable estatica, no necessita d&#39;un objecte</span>
    <span class="c1"># per tant no usa el parametre self.</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">nombre_persones_creades</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">Persona</span><span class="o">.</span><span class="n">__nombre_de_persones</span> <span class="c1"># sabem quantes persones hem creat</span>
    
    
    <span class="c1"># Exemple de mètode de classe estàtic que serveix per construir un nou objecte</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bebe</span><span class="p">(</span><span class="n">pes</span><span class="p">,</span> <span class="n">alt</span><span class="p">):</span>
    
        <span class="n">persona_petita</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pes</span><span class="p">,</span> <span class="n">alt</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">persona_petita</span>
    
    
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
        <span class="n">cadena</span> <span class="o">=</span>  <span class="s2">&quot;  o  &quot;</span> <span class="o">+</span> <span class="s2">&quot;Pes:  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__pes</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot; /|\ &quot;</span> <span class="o">+</span> <span class="s2">&quot;Edat: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__edat</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;  |  &quot;</span> <span class="o">+</span> <span class="s2">&quot;Alt:  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__alt</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot; / \ &quot;</span>                                   
        <span class="k">return</span> <span class="n">cadena</span>
    
<span class="c1"># Programa principal</span>
<span class="n">creades</span> <span class="o">=</span> <span class="n">Persona</span><span class="o">.</span><span class="n">nombre_persones_creades</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*Inici, persones creades: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">creades</span><span class="p">))</span>


<span class="n">p</span> <span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">174</span><span class="p">)</span>
<span class="n">p2</span><span class="o">=</span> <span class="n">Persona</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">163</span><span class="p">)</span>
<span class="n">p3</span><span class="o">=</span> <span class="n">Persona</span><span class="o">.</span><span class="n">bebe</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>

<span class="c1"># Mostrara el valor 3</span>
<span class="n">creades</span> <span class="o">=</span> <span class="n">Persona</span><span class="o">.</span><span class="n">nombre_persones_creades</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*Nombre de persones creades &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">creades</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*Com son? &quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="sobrecarrega-d-operadors">
<h2>Sobrecàrrega d’operadors<a class="headerlink" href="#sobrecarrega-d-operadors" title="Link to this heading">#</a></h2>
<p>En el tema 2 definíem els <strong>operadors</strong> com a símbols especials que indiquen que cal fer algun tipus de computació.
Els valors amb els quals actua un operador s’anomenen <strong>operands</strong>.</p>
<p>Vàrem veure que tenim operadors: aritmètics, de comparació i lògics. Tots aquests operadors es troben definits pels
tipus de dades del nucli de ‘Python’ (enter, string, llista, float …) . Però si ens fixem bé, el mateix operador es
comporta de manera diferent amb diferents tipus. Per exemple, l’operador <strong>+</strong> realitzarà una addició aritmètica de
dos nombres, unirà dues llistes i concatenarà dos <em>strings</em>.</p>
<p>Aquesta característica de Python que permet que un mateix operador tingui un significat diferent segons el tipus de
dades amb el qual opera es diu <strong>sobrecàrrega d’operadors</strong>.</p>
<p>Si pensem en les classes que hem construït fins ara, quan volem operar dos objectes o comparar-los construïm mètodes
que tenen noms que ens ajuden a reconèixer l’operació que volem realitzar, però seria molt més pràctic poder usar
els operadors que ja coneixem.</p>
<p><strong>Operadors aritmètics</strong></p>
<p>Considerem la classe següent, que defineix un punt en el sistema de coordenades 2-D.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Punt</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     
      <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>

<span class="c1"># Exemple d&#39;ús</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">()</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
<span class="n">p3</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span>
</pre></div>
</div>
</div>
</div>
<p>Per sobrecarregar el signe +, haurem d’implementar el mètode <code class="docutils literal notranslate"><span class="pre">__add</span> <span class="pre">__</span></code> a la nostra classe. Com podem intuir aquest
mètode és com el constructor de les classes i el mètode <code class="docutils literal notranslate"><span class="pre">__str__</span></code> propi de <code class="docutils literal notranslate"><span class="pre">Python</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Python</span></code> no avalua que dins aquest mètode sumem dos objectes d’aquella classe, ja que no coneix el significat de
sumar. Però el que sí que ens obliga és que aquest sigui un mètode d’objecte és a dir que rep el paràmetre self i
un objecte de la classe per paràmetre. També és altament recomanable tornar un objecte de la mateixa classe.</p>
<p>Ara en veurem un exemple:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Punt</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">y</span>
        
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     
      <span class="k">return</span> <span class="s2">&quot;Punt(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
        

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">altra</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">+</span> <span class="n">altra</span><span class="o">.</span><span class="n">__x</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">+</span> <span class="n">altra</span><span class="o">.</span><span class="n">__y</span>
        <span class="k">return</span> <span class="n">Punt</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">-</span> <span class="n">p2</span><span class="o">.</span><span class="n">__x</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">-</span> <span class="n">p2</span><span class="o">.</span><span class="n">__y</span>
        <span class="k">return</span> <span class="n">Punt</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        
<span class="c1"># Programa principal</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>

<span class="n">p3</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span> <span class="c1"># estam cridant al mètode p1.__add__(p2)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>

<span class="n">p4</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">-</span> <span class="n">p1</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p4</span><span class="p">)</span>
      
</pre></div>
</div>
</div>
</div>
<p>De la mateixa manera que hem sobrecarregat l’operador suma també podem sobrecarregar altres operadors. Les funcions
especials que podem implementar es mostren a continuació. Cal recordar que tota funció ja existent a <code class="docutils literal notranslate"><span class="pre">Python</span></code> i que
volem sobreescriure, ha de començar i acabar amb doble barra baixa: <code class="docutils literal notranslate"><span class="pre">__</span></code>. Per exemple <code class="docutils literal notranslate"><span class="pre">__add__</span></code> o <code class="docutils literal notranslate"><span class="pre">__sub__</span></code>.</p>
<p>A continuació trobem una taula amb els diferents operadors que podem sobrecarregar:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Operador</p></th>
<th class="head text-left"><p>Expressió</p></th>
<th class="head text-left"><p>Mètode</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Suma</p></td>
<td class="text-left"><p>p1 + p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__add__(p2)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Resta</p></td>
<td class="text-left"><p>p1 - p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__sub__(p2)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Multiplicació</p></td>
<td class="text-left"><p>p1 * p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__mul__(p2)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Potència</p></td>
<td class="text-left"><p>p1 ** p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__pow__(p2)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Divisió</p></td>
<td class="text-left"><p>p1 / p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__truediv__(p2)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Divisió sencera</p></td>
<td class="text-left"><p>p1 // p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__floordiv__(p2)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Mòdul</p></td>
<td class="text-left"><p>p1 % p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__mod__(p2)</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Operadors de comparació</strong></p>
<p>De la mateixa manera que ho hem fet amb els aritmètics, podem sobrecarregar els operadors de comparació. Uns dels més
usats és la igualtat <code class="docutils literal notranslate"><span class="pre">==</span></code>. Vegem un exemple del seu ús en la classe <code class="docutils literal notranslate"><span class="pre">Punt</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Punt</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">y</span>
    
    
    <span class="c1"># Els següents tres mètodes fan el mateix, el primer és un mètode de classe</span>
    <span class="c1"># El segon és un mètode d&#39;objecte.</span>
    <span class="c1"># El tercer mètode sobrecarrega l&#39;operador d&#39;igualtat</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">son_iguals</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="n">p1</span><span class="o">.</span><span class="n">__x</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="n">__x</span> <span class="ow">and</span>  <span class="n">p1</span><span class="o">.</span><span class="n">__y</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="n">__y</span>
        
    <span class="k">def</span> <span class="nf">__es_igual_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="n">__x</span> <span class="ow">and</span>  <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="n">__y</span>
    
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
        
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__es_igual_a</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
    
            
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     
      <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
    
<span class="c1"># Programa principal</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>


<span class="k">if</span> <span class="n">p2</span> <span class="o">==</span> <span class="n">p1</span> <span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son iguals&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A continuació tenim una taula amb els diferents operadors que podem sobrecarregar:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Operador</p></th>
<th class="head text-left"><p>Expressió</p></th>
<th class="head text-left"><p>Mètode</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Menor</p></td>
<td class="text-left"><p>p1 &lt; p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__lt__(p2)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Menor o igual</p></td>
<td class="text-left"><p>p1 &lt;= p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__le__(p2)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Igual</p></td>
<td class="text-left"><p>p1 == p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__eq__(p2)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Diferent</p></td>
<td class="text-left"><p>p1 != p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__ne__(p2)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Major</p></td>
<td class="text-left"><p>p1 &gt; p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__gt__(p2)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Major o igual</p></td>
<td class="text-left"><p>p1 &gt;= p2</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">p1.__ge__(p2)</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>En implementar aquests operadors hem de tenir en compte que si n’hem implementat un d’ells, normalment l’usuari
esperarà que hàgem implementat totes les altres comparacions possibles. I per tant si sobrecarreguem alguns dels
operadors, com a bona pràctica de programació, també haurem de sobrecarregar la resta.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Un exemple</span>

<span class="k">class</span> <span class="nc">Punt</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">altra</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">+</span> <span class="n">altra</span><span class="o">.</span><span class="n">__x</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">+</span> <span class="n">altra</span><span class="o">.</span><span class="n">__y</span>
        <span class="k">return</span> <span class="n">Punt</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
      
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">altra</span><span class="p">):</span>
      
        <span class="n">self_mag</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">altra_mag</span> <span class="o">=</span> <span class="p">(</span><span class="n">altra</span><span class="o">.</span><span class="n">__x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">altra</span><span class="o">.</span><span class="n">__y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">self_mag</span> <span class="o">&lt;</span> <span class="n">altra_mag</span>
    
            
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     
      <span class="k">return</span> <span class="s2">&quot;Punt(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>

<span class="c1"># Programa principal</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Punt</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>

<span class="n">p3</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="n">p3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Punt(9, 2)
True
</pre></div>
</div>
</div>
</div>
<p>Finalment cal dir que existeixen altres operadors que podríem sobrecarregar per fer més completes les nostres classes,
però degut les limitacions del curs i l’àmbit en el qual ens trobem (el grau de matemàtiques) són els més
interessants.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters\Tema5"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Tema5_Strings.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Strings</p>
      </div>
    </a>
    <a class="right-next"
       href="Tema5_Estructures.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Altres maneres d’estructurar les dades</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectes">Objectes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classe-dels-nombres-complexos">Classe dels nombres complexos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encapsulacio">Encapsulació</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atributs-privats">Atributs privats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodes-privats">Mètodes privats</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#atributs-i-metodes-de-classe">Atributs i mètodes de classe</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sobrecarrega-d-operadors">Sobrecàrrega d’operadors</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gabriel Moyà Alcover
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>